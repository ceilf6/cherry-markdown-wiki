## 通过更新main触发发布流程
1. main 分支同步 dev 代码触发 release ci 生成 Bot release pr
```
git checkout main
git merge dev
git push origin main:main
```
执行`git push`后，ci会自动生成一个PR，待PR生成后执行第2步

2. 检测 pr body 内容正确，合并 pr 之后 ci 自动进行发版。（如果发现 release 内容不正确可手动更改 .changeset/*.md 文档更新 release Changelog）

3. 将 main 的代码同步回 dev 分支保持 commit 记录一致

> [!TIP]
> 现在这步骤将会被 ci 代替。
> ```
> git checkout dev
> git reset --hard main
> git push origin dev:dev --force
> ```
---



## ~~发布~~[~~npmjs~~](https://www.npmjs.com/)（不需要再手动执行了）
```
npm config set registry  https://registry.npmjs.org/
npm login
npm publish
// 按需切回腾讯的源
npm config set registry https://mirrors.tencent.com/npm/
```

## ~~发布vscodePlugin~~（不需要再手动执行了）
更新cherry的代码到plugin里（目前这一步还是手动的）
```
copy -Rf ./dist ./vscodePlugin/web-resources/dist
```

安装vsce（如已安装，则跳过该步骤）
```
npm install -g @vscode/vsce
// 登录
vsce login cherryMarkdownPublisher
// 根据提示输入token
```
token在[这里](https://dev.azure.com/cherry-markdown/_usersSettings/tokens)获取

执行发布
```
cd ./vscodePlugin
修改package.json里的version：`"version": "0.0.14",`
// 执行发布命令
vsce publish
```